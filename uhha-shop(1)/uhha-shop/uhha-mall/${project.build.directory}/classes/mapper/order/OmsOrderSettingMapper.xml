<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.uhha.order.mapper.OmsOrderSettingMapper">

    <resultMap type="OmsOrderSetting" id="OmsOrderSettingResult">
        <result property="id" column="id"/>
        <result property="allowBack" column="allow_back"/>
        <result property="autoConfirm" column="auto_confirm"/>
        <result property="refundsDesc" column="refunds_desc"/>
        <result property="returnDesc" column="return_desc"/>
        <result property="cashonDelivery" column="cashon_delivery"/>
        <result property="storeId" column="store_id"/>
    </resultMap>

    <sql id="selectOmsOrderSettingVo">
        select id, allow_back, auto_confirm, refunds_desc, return_desc, cashon_delivery, store_id from oms_order_setting
    </sql>

    <select id="selectOmsOrderSettingList" parameterType="OmsOrderSetting" resultMap="OmsOrderSettingResult">
        <include refid="selectOmsOrderSettingVo"/>
        <where>
            <if test="allowBack != null  and allowBack != ''">and allow_back = #{allowBack}</if>
            <if test="autoConfirm != null ">and auto_confirm = #{autoConfirm}</if>
            <if test="refundsDesc != null  and refundsDesc != ''">and refunds_desc = #{refundsDesc}</if>
            <if test="returnDesc != null  and returnDesc != ''">and return_desc = #{returnDesc}</if>
            <if test="cashonDelivery != null  and cashonDelivery != ''">and cashon_delivery = #{cashonDelivery}</if>
            <if test="storeId != null ">and store_id = #{storeId}</if>
        </where>
    </select>

    <select id="selectOmsOrderSettingById" parameterType="Long" resultMap="OmsOrderSettingResult">
        <include refid="selectOmsOrderSettingVo"/>
        where id = #{id}
    </select>

    <insert id="insertOmsOrderSetting" parameterType="OmsOrderSetting" useGeneratedKeys="true" keyProperty="id">
        insert into oms_order_setting
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="allowBack != null">allow_back,</if>
            <if test="autoConfirm != null">auto_confirm,</if>
            <if test="refundsDesc != null">refunds_desc,</if>
            <if test="returnDesc != null">return_desc,</if>
            <if test="cashonDelivery != null">cashon_delivery,</if>
            <if test="storeId != null">store_id,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="allowBack != null">#{allowBack},</if>
            <if test="autoConfirm != null">#{autoConfirm},</if>
            <if test="refundsDesc != null">#{refundsDesc},</if>
            <if test="returnDesc != null">#{returnDesc},</if>
            <if test="cashonDelivery != null">#{cashonDelivery},</if>
            <if test="storeId != null">#{store_id},</if>
        </trim>
    </insert>

    <update id="updateOmsOrderSetting" parameterType="OmsOrderSetting">
        update oms_order_setting
        <trim prefix="SET" suffixOverrides=",">
            <if test="allowBack != null">allow_back = #{allowBack},</if>
            <if test="autoConfirm != null">auto_confirm = #{autoConfirm},</if>
            <if test="refundsDesc != null">refunds_desc = #{refundsDesc},</if>
            <if test="returnDesc != null">return_desc = #{returnDesc},</if>
            <if test="cashonDelivery != null">cashon_delivery = #{cashonDelivery},</if>
            <if test="storeId != null">store_id = #{storeId},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteOmsOrderSettingById" parameterType="Long">
        delete from oms_order_setting where id = #{id}
    </delete>

    <delete id="deleteOmsOrderSettingByIds" parameterType="String">
        delete from oms_order_setting where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

</mapper>