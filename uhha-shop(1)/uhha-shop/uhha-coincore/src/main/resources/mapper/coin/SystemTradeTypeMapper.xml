<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="io.uhha.coin.system.mapper.SystemTradeTypeMapper">

    <sql id="systemTradeTypeColumn">id, sort_id, type, status, buy_coin_id,b_coin_nickname, sell_coin_id,s_coin_nickname, is_share, is_stop, open_time,
    stop_time, buy_fee, sell_fee, remote_id, price_wave, min_count, max_count, min_price,
    max_price, amount_offset, price_offset, digit, open_price, gmt_create, gmt_modified,
    version,fadminid</sql>

    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    delete from system_trade_type
    where id = #{id,jdbcType=INTEGER}
  </delete>

    <insert id="insert" parameterType="SystemTradeType">
    insert into system_trade_type (id, sort_id, type, 
      status, buy_coin_id,b_coin_nickname, sell_coin_id, s_coin_nickname,
      is_share, is_stop, open_time, stop_time,
      buy_fee, sell_fee, remote_id, 
      price_wave, min_count, max_count, 
      min_price, max_price, amount_offset, 
      price_offset, digit, open_price, 
      gmt_create, gmt_modified,
      version,fadminid)
    values (#{id,jdbcType=INTEGER}, #{sortId,jdbcType=INTEGER}, #{type,jdbcType=INTEGER}, 
      #{status,jdbcType=INTEGER}, #{buyCoinId,jdbcType=INTEGER},#{bCoinNickName,jdbcType=VARCHAR}, #{sellCoinId,jdbcType=INTEGER}, #{sCoinNickName,jdbcType=VARCHAR},
      #{isShare,jdbcType=BIT}, #{isStop,jdbcType=BIT}, #{openTime,jdbcType=TIME}, #{stopTime,jdbcType=TIME}, 
      #{buyFee,jdbcType=DECIMAL}, #{sellFee,jdbcType=DECIMAL}, #{remoteId,jdbcType=INTEGER}, 
      #{priceWave,jdbcType=DECIMAL}, #{minCount,jdbcType=DECIMAL}, #{maxCount,jdbcType=DECIMAL}, 
      #{minPrice,jdbcType=DECIMAL}, #{maxPrice,jdbcType=DECIMAL}, #{amountOffset,jdbcType=VARCHAR}, 
      #{priceOffset,jdbcType=VARCHAR}, #{digit,jdbcType=VARCHAR}, #{openPrice,jdbcType=DECIMAL}, 
      #{gmtCreate,jdbcType=TIMESTAMP}, #{gmtModified,jdbcType=TIMESTAMP},
      #{version,jdbcType=INTEGER},#{fadminid,jdbcType=INTEGER})
  </insert>

    <update id="updateByPrimaryKey" parameterType="SystemTradeType">
    update system_trade_type
    set sort_id = #{sortId,jdbcType=INTEGER},
      type = #{type,jdbcType=INTEGER},
      status = #{status,jdbcType=INTEGER},
      buy_coin_id = #{buyCoinId,jdbcType=INTEGER},
      b_coin_nickname = #{bCoinNickName,jdbcType=VARCHAR},
      sell_coin_id = #{sellCoinId,jdbcType=INTEGER},
      s_coin_nickname = #{sCoinNickName,jdbcType=VARCHAR},
      is_share = #{isShare,jdbcType=BIT},
      is_stop = #{isStop,jdbcType=BIT},
      open_time = #{openTime,jdbcType=TIME},
      stop_time = #{stopTime,jdbcType=TIME},
      buy_fee = #{buyFee,jdbcType=DECIMAL},
      sell_fee = #{sellFee,jdbcType=DECIMAL},
      remote_id = #{remoteId,jdbcType=INTEGER},
      price_wave = #{priceWave,jdbcType=DECIMAL},
      min_count = #{minCount,jdbcType=DECIMAL},
      max_count = #{maxCount,jdbcType=DECIMAL},
      min_price = #{minPrice,jdbcType=DECIMAL},
      max_price = #{maxPrice,jdbcType=DECIMAL},
      amount_offset = #{amountOffset,jdbcType=VARCHAR},
      price_offset = #{priceOffset,jdbcType=VARCHAR},
      digit = #{digit,jdbcType=VARCHAR},
      open_price = #{openPrice,jdbcType=DECIMAL},
      gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},
      gmt_modified = #{gmtModified,jdbcType=TIMESTAMP},
      version = #{version,jdbcType=INTEGER},
      fadminid = #{fadminid,jdbcType=INTEGER}
    where id = #{id,jdbcType=INTEGER}
  </update>

    <select id="selectByPrimaryKey" resultType="SystemTradeType" parameterType="java.lang.Integer">
        select
        <include refid="systemTradeTypeColumn"/>
        from system_trade_type
        where id = #{id,jdbcType=INTEGER}
    </select>

    <select id="selectAll" resultType="SystemTradeType">
    select system_trade_type.id, system_trade_type.sort_id, system_trade_type.type, system_trade_type.status, system_trade_type.buy_coin_id, system_trade_type.sell_coin_id, system_trade_type.is_share, system_trade_type.is_stop, system_trade_type.open_time,
    system_trade_type.stop_time, system_trade_type.buy_fee, system_trade_type.sell_fee, system_trade_type.remote_id, system_trade_type.price_wave, system_trade_type.min_count, system_trade_type.max_count, system_trade_type.min_price,
    system_trade_type.max_price, system_trade_type.amount_offset, system_trade_type.price_offset, system_trade_type.digit, system_trade_type.open_price, system_trade_type.gmt_create, system_trade_type.gmt_modified,
    system_trade_type.version,system_trade_type.fadminid,sys_user.user_name fadminname
    from system_trade_type left join
    sys_user on sys_user.user_id = system_trade_type.fadminid ORDER BY sort_id ASC
  </select>

    <select id="selectSystemTradeTypeList" resultType="SystemTradeType">
    select
    system_trade_type.id, system_trade_type.sort_id, system_trade_type.type, system_trade_type.status, system_trade_type.buy_coin_id,system_trade_type.b_coin_nickname, system_trade_type.sell_coin_id,system_trade_type.s_coin_nickname, system_trade_type.is_share, system_trade_type.is_stop, system_trade_type.open_time,
    system_trade_type.stop_time, system_trade_type.buy_fee, system_trade_type.sell_fee, system_trade_type.remote_id, system_trade_type.price_wave, system_trade_type.min_count, system_trade_type.max_count, system_trade_type.min_price,
    system_trade_type.max_price, system_trade_type.amount_offset, system_trade_type.price_offset, system_trade_type.digit, system_trade_type.open_price, system_trade_type.gmt_create, system_trade_type.gmt_modified,
    system_trade_type.version,system_trade_type.fadminid,sys_user.user_name fadminname
    from system_trade_type left join
    sys_user on sys_user.user_id = system_trade_type.fadminid
    order by ${orderfield} ${orderdirection}
    limit #{offset},#{limit}
  </select>

    <select id="selectSystemTradeTypeCount" resultType="java.lang.Integer">
    select count(*)
    from system_trade_type
  </select>

  <select id="selectBySellCoinId"  parameterType="SystemTradeType" resultType="SystemTradeType">
    select
    <include refid="systemTradeTypeColumn"/>
    from system_trade_type
    where sell_coin_id = #{sellCoinId,jdbcType=INTEGER} and status !=2 and type !=3
  </select>
</mapper>